% !TEX root = dppy_paper.tex
% Specific to this .tex
% DPP
\newcommand{\DPPy}{\textsf{DPPy}}
\newcommand\DPP{\operatorname{DPP}}

\newcommand*{\Secref}[1]{Section\,\ref{#1}}
\newcommand*{\Eqref}[1]{Equation\,\ref{#1}}
\newcommand*{\Thref}[1]{Theorem\,\ref{#1}}

\newcommand{\dist}{\operatorname{distance}}

\newcommand{\CommaBin}{\mathbin{\raisebox{0.5ex}{,}}}

\def\threefig{.31\textwidth}
\def\twofig{.4\textwidth}

% Python code highlight
% \newcommand{\pygreen}[1]{\textcolor{OliveGreen}{#1}}
% \newcommand{\pystr}[1]{\textcolor{BrickRed}{"#1"}}
% \newcommand{\pylrcb}[1]{\string{#1\string}}
% \newcommand{\pykwargs}{\textcolor{Plum}{**}}
% \newcommand{\pyeq}{\textcolor{Plum}{=}}
% \newcommand{\pyus}{\texttt{\char`_}}

% TODO command
\newcommand{\rb}[1]{\textcolor{magenta}{RB: #1}}
\newcommand{\GG}[1]{\textcolor{blue}{GG: #1}}
\newcommand*{\todo}[1]{\textcolor{red}{TODO:{#1}}}
\newcommand*{\anstodo}[1]{\textcolor{blue}{ANS-TODO:{#1}}}

% Notations
\newcommand\ie{\text{i.e., }}
\newcommand\eg{\text{e.g., }}
\newcommand\iid{\text{i.i.d.\,}}

% Footnotes 1, 2, 3 and then fancy ones!
\makeatletter
\@addtoreset{footnote}{page}
\makeatother

\renewcommand{\thefootnote}{
    \ifcase\value{footnote}
        \or{1}
        \or{2}
        \or{3}
        \or{\color{black}\faGithub}
        \or{\color{black}\faBook}
        \or{\color{black}\faGears}
        \or{\color{black}\faIndent}
    \fi}

% Cross ref a foonote
\makeatletter
\newcommand\footnoteref[1]{\protected@xdef\@thefnmark{\ref{#1}}\@footnotemark}
\makeatother

\addtolength{\skip\footins}{-3pc plus 5pt}

% % Center env for minted package to display code
% \newenvironment{nscenter}
%  {\parskip=3pt\par\nopagebreak\centering}
%  {\parskip=2pt\par\noindent\ignorespacesafterend}

%%%%%%%%%
% MATHS %
%%%%%%%%%

\renewcommand{\tilde}{\widetilde}

% Sum/Product with limits
\newcommand{\suml}{ \sum\limits }
\newcommand{\prodl}{ \prod\limits }

%%% bold, cal and bb Uppercase letters A..Z
\foreach \x in {A,...,Z}
	{%
	\expandafter\xdef\csname bf\x \endcsname{\noexpand\ensuremath{\noexpand\mathbf{\x}}}
	\expandafter\xdef\csname cal\x \endcsname{\noexpand\ensuremath{\noexpand\mathcal{\x}}}
	\expandafter\xdef\csname bb\x \endcsname{\noexpand\ensuremath{\noexpand\mathbb{\x}}}
}

\newcommand\Vol{\operatorname{Vol}}

% differential notation dx
\newcommand*\diff{\mathop{}\!\mathrm{d}}

%%%%%%%%%%%%%%%%%%%%%%%
% Size adaptive symbols
%%%%%%%%%%%%%%%%%%%%%%%
% brackets
\newcommand{\lrb}[1]{\left[ #1 \right]}
% parenthesis
\newcommand{\lrp}[1]{\left( #1 \right)}
% curly brackets (typically sets)
\newcommand{\lrcb}[1]{\left\{ #1 \right\}}
% absolute value
\newcommand{\lrabs}[1]{\left| #1 \right|}
% norm
\newcommand{\lrnorm}[1]{\left\| #1 \right\|}

%%%%%%%%%%%%%%%%%%%%%
% Probability symbols
%%%%%%%%%%%%%%%%%%%%%

\newcommand\Prob{\operatorname{\bbP}}
\newcommand\Exp{\operatorname{\bbE}}

% Adaptive brackets
\newcommand{\Proba}[1]{\Prob\!\lrb{#1}}
\newcommand{\Expe}[1]{\Exp\!\lrb{#1}}

% Independent symbol similar to perp
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}
\newcommand\indep{\protect\mathpalette{\protect\independenT}{\perp}}

% Distributions
\newcommand\Ber{\operatorname{\calB er }}

%%%%%%%%%%%%%%%%
% Linear Algebra
%%%%%%%%%%%%%%%%
\renewcommand{\top}{\mathsf{\scriptscriptstyle T}}

\newcommand\Span{\operatorname{span}}

\newcommand\Tr{\operatorname{Tr}}
\newcommand\rank{\operatorname{rank}}

%%%%%%%%%%%%%%%
% Python code %
%%%%%%%%%%%%%%%

%%% Python code with listings
\renewcommand{\ttdefault}{pcr}

\definecolor{white}{rgb}{1,1,1}
\definecolor{light_gray}{rgb}{0.97,0.97,0.97}
\definecolor{mykey}{rgb}{0.117,0.403,0.713}
\definecolor{myviolet}{hsb}{0.79167,1,1}

% https://tex.stackexchange.com/a/163911
\makeatletter
\newcommand{\ProcessDigit}[1]
{%
  \ifnum\lst@mode=\lst@Pmode\relax%
   {\color{OliveGreen} #1}%
  \else
    #1%
  \fi
}
\makeatother

% Inspired from https://github.com/olivierverdier/python-latex-highlighting
\lstdefinelanguage{mypython}{
    aboveskip=1mm,
    belowskip=1mm,
    columns=flexible,
    mathescape,
    showstringspaces=false,
    basicstyle=\ttfamily\footnotesize,
    %
    keywordstyle=\bfseries\color{OliveGreen},
    morekeywords={access,and,assert,break,class,continue,def,del,elif,else,%
    except,exec,False,finally,for,from,global,if,import,in,is,lambda,not,raise,return,True},
    %
    morekeywords={[2] abs,all,any,basestring,bin,bool,bytearray,callable,chr,
    classmethod,cmp,compile,complex,delattr,dict,dir,divmod,enumerate,eval,
    execfile,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,
    help,hex,id,input,int,isinstance,issubclass,iter,len,list,locals,long,map,
    max,memoryview,min,next,object,oct,open,ord,pow,property,print,range,raw_input,
    reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,apply,buffer,coerce,
    intern},
    keywordstyle=[2]\color{OliveGreen},
    %
    stringstyle=\ttfamily\color{FireBrick},
    morestring=[b]{'},
    morestring=[b]{"},
    morestring=[s]{r'}{'},
    morestring=[s]{r"}{"},
    morestring=[s]{r'''}{'''},
    morestring=[s]{r"""}{"""},
    morestring=[s]{u'}{'},
    morestring=[s]{u"}{"},
    morestring=[s]{u'''}{'''},
    morestring=[s]{u"""}{"""},
    %
    commentstyle=\slshape\textcolor{CadetBlue},
    morecomment=[l]\#,%
    morecomment=[s]{'''}{'''},
    morecomment=[s]{"""}{"""},
    literate=*%
        {0}{{{\ProcessDigit{0}}}}1
        {1}{{{\ProcessDigit{1}}}}1
        {2}{{{\ProcessDigit{2}}}}1
        {3}{{{\ProcessDigit{3}}}}1
        {4}{{{\ProcessDigit{4}}}}1
        {5}{{{\ProcessDigit{5}}}}1
        {6}{{{\ProcessDigit{6}}}}1
        {7}{{{\ProcessDigit{7}}}}1
        {8}{{{\ProcessDigit{8}}}}1
        {9}{{{\ProcessDigit{9}}}}1
        %
        {:}{{\bfseries:}}2%
        {::}{{\bfseries:$\!$:}}2%
        {=}{{\bfseries\color{myviolet}{=}}}2%
        {-}{{\bfseries\color{myviolet}-}}{2}%
        {+}{{\bfseries\color{myviolet}+}}{2}%
        {*}{{\bfseries\color{myviolet}*}}2%
        {**}{{\bfseries\color{myviolet}{**}}}3%
        {/}{{\bfseries\color{myviolet}/}}{2}%
        {//}{{\bfseries\color{myviolet}{//}}}{2}%
        {!}{{\bfseries\color{myviolet}!}}{2}%
        {<}{{\bfseries\color{myviolet}<}}{2}%
        {<=}{{\bfseries\color{myviolet}{<=}}}3%
        {>}{{\bfseries\color{myviolet}>}}{2}%
        {>=}{{\bfseries\color{myviolet}{>=}}}3%
        {==}{{\bfseries\color{myviolet}{==}}}3%
        {!=}{{\bfseries\color{myviolet}{!=}}}3%
        {+=}{{\bfseries\color{myviolet}{+=}}}3%
        {-=}{{\bfseries\color{myviolet}{-=}}}3%
        {*=}{{\bfseries\color{myviolet}{*=}}}3%
        {/=}{{\bfseries\color{myviolet}{/=}}}3,
    morekeywords={[3] jacobian_points_weights_to_moments_circle},
    keywordstyle=[3]\color{blue}
}
